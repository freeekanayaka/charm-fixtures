#!/usr/bin/python3

import sys
import os
import argparse


class LogTool():

    @classmethod
    def path(cls):
        return os.path.join(os.environ["CHARM_DIR"], ".juju-log.data")

    def run(self, args):
        parser = argparse.ArgumentParser()
        parser.add_argument("message")
        parser.add_argument("-l", default="INFO", dest="level")
        args = parser.parse_args(args)

        with open(self.path(), "a") as fd:
            fd.write("{}: {}\n".format(args.level, args.message))

tool = LogTool()
tool.run(sys.argv[1:])
